# CHANGES IN VERSION 2.6.05 (BioC 3.12 version)
## BUG REPORTS
- `mafSurvival` Remove non functional fn argument. Issue: [660](https://github.com/PoisonAlien/maftools/issues/660)
- `OncogenicPathways` zero entries bug and correct documentation. Issue: [656](https://github.com/PoisonAlien/maftools/issues/656)
- `plotApobecDiff` y-axis limits. Issue: [642](https://github.com/PoisonAlien/maftools/issues/642) [629](https://github.com/PoisonAlien/maftools/issues/642)
- `Rainfallplot` arrowhead bug. Issue: [628](https://github.com/PoisonAlien/maftools/issues/628) [629](https://github.com/PoisonAlien/maftools/issues/629)

## ENHANCEMENTS
- Improve `clinicalEnrichment` odd-ratio interpretation. Issue: [633](https://github.com/PoisonAlien/maftools/issues/633)
In earlier versions, odds-ratio indicated the odds of observing WT in the group of interest compared to Mutant. From this update, odds-ratio indicate the odds of observing mutant in the group of interest compared to wild-type. This way is much intuitive and easier interpret. See issue [633](https://github.com/PoisonAlien/maftools/issues/633) for details. P-values and other details are unaffected.
- Changes in how `Multi_Hit` are reported. By default two distinct types of mutations in the same gene or same patient were classified as Multi_Hit (e.g; Missense + Splice_Site = Multi_Hit; Missense + Missense = Missense). This update onward, regardless of type of mutations, if there are >1 mutations in the same gene of same patient, they are classified as Multi_Hit (e.g; Missense + Splice_Site = Multi_Hit; Missense + Missense = Multi_Hit). Issue: [347](https://github.com/PoisonAlien/maftools/issues/347) [347](https://github.com/PoisonAlien/maftools/issues/347)

# CHANGES IN VERSION 2.6.00
## BUG REPORTS
- Incorrect deduplication cases while validating MAFs. Issue: [623](https://github.com/PoisonAlien/maftools/issues/623)
- Fix repeated domain labels in `lollipopPlot2`. Issue: [614](https://github.com/PoisonAlien/maftools/issues/614)
- Fix Copy number labels and coloring in `coBarPlot`. Issue: [609](https://github.com/PoisonAlien/maftools/issues/609)
- Fix coloring issues for annotations in `oncoplot` in R < 4.0. Issue: [599](https://github.com/PoisonAlien/maftools/issues/599)

## ENHANCEMENTS
- Updated TCGA TMB. All variants from MC3 results are restricted and harmonized to Agilent 35.8 MB capture kit. See `?tcgaCompare` for details. Issue: [612](https://github.com/PoisonAlien/maftools/issues/612)
- Added `SIMC1` protein to domain database. Issue: [616](https://github.com/PoisonAlien/maftools/issues/616)
- Added `sampleOrder1` and `sampleOrder2` arguments to `coOncoplot`. Issue: [592](https://github.com/PoisonAlien/maftools/issues/592)
- Added `gene_mar` `outer_mar` argument to `coOncoplot`. Issue: [260](https://github.com/PoisonAlien/maftools/issues/260)
- Added sample size warning messages to `mafCompare`. Issue: [602](https://github.com/PoisonAlien/maftools/issues/602)
- Added `cohortFontSize` and `axisFontSize` to `tcgaCompare`

## NEW FUNCTIONS
- Added `filterMaf` function.

## DEPRECATED
- `signatureEnrichment` will be deprecated in future. Currently kept for legacy purpose with a warning message. Issue:  [607](https://github.com/PoisonAlien/maftools/issues/607) [615](https://github.com/PoisonAlien/maftools/issues/615)

# CHANGES IN VERSION 2.4.12 (Release/Bioconductor version)
No new changes. Just updated news file.

# CHANGES IN VERSION 2.4.10
## BUG FIXES
- Fix issue reversed colors in `somaticInteractions`. Setting `limitColorBreaks = TRUE` by default for the fix. Issue: [589](https://github.com/PoisonAlien/maftools/issues/589)
- Fix issue with non-numeiric error in `math.score`. Issue: [429](https://github.com/PoisonAlien/maftools/issues/429)
- Fix issue with zcat for file names with spaces. Let data.table deal with it. Issue: [574](https://github.com/PoisonAlien/maftools/issues/574)
- Fix margins in `tcgaCompare`. Issue: [573](https://github.com/PoisonAlien/maftools/issues/573)
- Fix labels in `somaticInteractions`. Issue: [569](https://github.com/PoisonAlien/maftools/issues/569)
- Clinical features with same labels are colored similarly in Oncoplot. Issue: [567](https://github.com/PoisonAlien/maftools/issues/567)
- Legend Ordering Not Intuitive. Issue: [424](https://github.com/PoisonAlien/maftools/issues/424)
- avoid in place conversions of data.frames while reading with read.maf. Issue: [432](https://github.com/PoisonAlien/maftools/issues/432) [593](https://github.com/PoisonAlien/maftools/pull/593)

## ENHANCEMENTS
- Added `bands` argument to `gisticOncoPlot`. Issue: [579](https://github.com/PoisonAlien/maftools/issues/579)
- Added `ranges` argument to `subsetMaf`. Issue: [571](https://github.com/PoisonAlien/maftools/issues/571)
- Added `barcodeSrt`, `annoBorderCol` arguments to `oncoplot`. Issue: [564](https://github.com/PoisonAlien/maftools/issues/564) [565](https://github.com/PoisonAlien/maftools/issues/565)
- Added `minMut` argument to `oncoplot`. Issue: [549](https://github.com/PoisonAlien/maftools/issues/549)

# CHANGES IN VERSION 2.4.05
## BUG FIXES
- Bugfix in annotation legend order in `oncoplot`. Issue: [541](https://github.com/PoisonAlien/maftools/issues/541)
- Error in `plotCBSsegments`. Issue: [539](https://github.com/PoisonAlien/maftools/issues/539)
- `merge_mafs` bug fix due to discrepancy in column names. Issue: [538](https://github.com/PoisonAlien/maftools/issues/538)
- `readGistic` TCGA sample names bug fix. Issue: [536](https://github.com/PoisonAlien/maftools/issues/536)
- Highlight most significant entry when a variants overlaps with multiple CNV regions Issue: [524](https://github.com/PoisonAlien/maftools/issues/524)
- `genesToBarcodes` sample selection fix
- `coOncoplot` bug fix with `showSampleNames` argument. Issue: [306](https://github.com/PoisonAlien/maftools/issues/306)
- `removeNonMutated` bug fix with `oncoplot` argument. Issue: [530](https://github.com/PoisonAlien/maftools/issues/530)

## ENHANCEMENTS
- Make `flags` internal function with top 100 genes. Issue: [542](https://github.com/PoisonAlien/maftools/issues/542)
- Add legend to `gisticBubblePlot`. Issue: [544](https://github.com/PoisonAlien/maftools/issues/544)
- Add `bgCol` and `borderCol` to  `gisticOncoPlot`. Issue: [#533](https://github.com/PoisonAlien/maftools/issues/533)
- Allow multiple CN types in oncoplot Issue: [#490](https://github.com/PoisonAlien/maftools/issues/490)
- Allow `getSampleSummary` to include non mutated samples Issue: [#527](https://github.com/PoisonAlien/maftools/issues/527)
- Added `color` argument to `plotVaf` for manual color codes Issue: [#531](https://github.com/PoisonAlien/maftools/issues/531)
- Added `rm_zero` argument to `tcgaCompare`

# CHANGES IN VERSION 2.4.00
## BUG FIXES

- `lollipopPlot2` error with zero mutation Issue: [#480](https://github.com/PoisonAlien/maftools/issues/480)
- `inferHeterogeneity` PR [#473](https://github.com/PoisonAlien/maftools/issues/473)
- `oncoplot` cnv crosses border [#472](https://github.com/PoisonAlien/maftools/issues/472)
- Avoid wrongly naming columns in `annovarToMaf` Issue: [#457](https://github.com/PoisonAlien/maftools/issues/457)
- Duplicated color code Issue: [#452](https://github.com/PoisonAlien/maftools/issues/452)
- oncoplot with exprsTbl leads to wrong alignment Issue: [#451](https://github.com/PoisonAlien/maftools/issues/451)
- plotMafSummary with single sample Issue: [#449](https://github.com/PoisonAlien/maftools/issues/449)
- Avoid empty spaces and quoates while reading funcotator MAF Issue: [#403](https://github.com/PoisonAlien/maftools/issues/403) [#397](https://github.com/PoisonAlien/maftools/issues/397)

## ENHANCEMENTS

- `OncogenicPathways` improvements Issue: [#505](https://github.com/PoisonAlien/maftools/pull/509)
- Added `showSum`, `colNC`, `nShiftSymbols`, `sigSymbolsSize`, `sigSymbolsFontSize`, `pvSymbols` arguments to `somaticInteractions` PR: [#505](https://github.com/PoisonAlien/maftools/pull/505) Thanks [zmiimz](https://github.com/zmiimz)
- Added `anno_height`, `drawBox`, `drawExtraBar` arguments to `oncoplot` PR: [#501](https://github.com/PoisonAlien/maftools/pull/501) Thanks [Kai Gu](https://github.com/kaigu1990)
- Added `decreasing` argument to `tcgaComapre` Issue: [#497](https://github.com/PoisonAlien/maftools/issues/497)
- Added startgain and startlost to `annovarToMaf` Issue: [#487](https://github.com/PoisonAlien/maftools/issues/487)
- `y_lims` argument in gisticChromPlot Issue: [#485](https://github.com/PoisonAlien/maftools/issues/485)
- Added support for highlighting multiple additionalFeatures Issue: [#476](https://github.com/PoisonAlien/maftools/issues/476)
- Pairwise t-test and mutational load in `tcgaCompare` Issue: [#453](https://github.com/PoisonAlien/maftools/issues/453)
- Added `titleText` argument to `oncoplot` Issue: [#448](https://github.com/PoisonAlien/maftools/issues/448)
- Highlight mutated genes on gisticChromplot Issue: [#443](https://github.com/PoisonAlien/maftools/issues/443)
- Added `legend_height` argument to `oncoplot` Issue: [#346](https://github.com/PoisonAlien/maftools/issues/346)
- Added `bgBorderCol` `domainBorderCol` `showLegend` argument to `lollipopPlot`

## NEW FUNCTIONS AND FEATURES

- `tmb` Simple tumor mutation burden estimation function.
- `setdiffMAF` and `intersectMAF`. Set operations for MAF files. PR: [#508](https://github.com/PoisonAlien/maftools/pull/508) Thanks [Shixiang Wang](https://github.com/ShixiangWang)
- `tcgaDriverBP` Compare genes to known TCGA drivers and their biological pathways
- `vafCompare` plots vaf distribution of target genes from two cohorts Issue: [#495](https://github.com/PoisonAlien/maftools/issues/495)
- `coBarplot` side-by-side barplot for maf comparison Issue: [#486](https://github.com/PoisonAlien/maftools/issues/486)
- Group genes in `oncoplot` by specific pathways. This can be done by setting `pathways = 'auto'` or by providing a two column data.frame/tsv-file with Gene names and their corresponding pathway belongings.
- Oncoplot gains `rightBarData` and `leftBarData` arguments for user specific side bar plots.
- Default flatUI colors for lollipop plots

## Deprecated
- `geneCloud` and `pancanComparison`

## CHANGES IN VERSION 2.2.10
### BUG FIX
    o Avoid in place class conversion for data.frames Issue: #432
    o Fix vignette entry Issue: #442

### ENHANCEMENTS
    o Improvised estimateSignatures function Issue: #433
    o Added clinQuery argument to `subsetMaf` function Issue: #423
    o Improvised somaticInteractions. Better plot and displays counts Issue: #418, #420


## CHANGES IN VERSION 2.2.0
### NEW FUNCTIONS AND FEATURES
    o `survGroup`, `mafSurvGroup` - Predict genes/genesets associated with survival. Issue: #396
    o New argument `altered` in `oncoplot` to plot top genes based on CNV or mutation. Default is `FALSE`. Issue: #405

### DEPRECATED
    o `oncotate` - Oncotator is no longer supported by Broad. Issue: #403 #384 #381
    o `findPathways` argument in `somaticInteractions` function has been deprecated

### SIGNIFICANT USER-LEVEL IMPROVEMENT
    o Signature analysis has been modified to be more flexible. It now consits of three functions namely:
        o `estimateSignatures` - which measures cophenetic correlation metric (a measure of goodness of fit) for a range of values
        o `plotCophenetic` - which draws an elbow plot of cophenetic correlation metric from `estimateSignatures` and helps to decide an optimal number of signature `(n)`.
        o `extractSignatures` - which then extracts final `n` signatures
    o `compareSignatures` now has two databases of known signatures. Classic 30 signatures and newer 67 SBS signatures from COSMIC.

### BUG FIX
    o `gisticChromPlot` bug fix. Issue: #392
    o `annovarToMaf` bug fix for results without exonic variants. Issue: #388
    o Avoid conflict with `plotly::layout` with `graphcis::layout`. Issue: #387 #202
    o Fix side-bar heights in Oncoplot with copy-number data. Issue: #383
    o Update y-axis label for `tcgaCompare` plot. Issue: #366
    o `annovarToMaf` annotating variants with MNPs. Issue: #335

CHANGES IN VERSION 2.0.16
-------------------------
    o Minor bug fix in extractSignatures. Issue #369
    o Added argument ens2hugo to annovarToMaf. Issue #372

CHANGES IN VERSION 2.0.15
-------------------------
    o Bug fix in oncoplot with only 1 variant classification. Issue #367
    o Bug fix with gisticChromPlot. Issue #365
    o Bug fix with plot alignment. Issue #360
    o Update description for lollipopPlot with domain source. Issue #354
    o Optimized method for rank estimation in signature analysis
    o Add barcode_mar and gene_mar to oncoplot and gisticOncoPlot. Issue: #346
    o Add sepwd_genes, sepwd_samples to oncoplot and gisticOncoPlot. Issue: #340 #260
    o Avoid plotting legend outside the margin. Issue: #337
    o Add argument for sample ordering in PlotOncogenicPathways. Issue: #332
    o Add cohortSize argument to oncoplot. Issue: #324
    o coOncoPlot: showing sample names has no effect. Issue: #306

CHANGES IN VERSION 2.0.10
-------------------------
    o Add argument for sample ordering in plotTiTv. Issue: #330
    o Bug fix in annovartomaf which caused wrong annotations for INDLS. Issue: #330

CHANGES IN VERSION 2.0.05
-------------------------
USER-LEVEL IMPROVEMENT
    o merge_mafs - Merge multiple MAF objects, files. Issue: #329
    o Add more examples for oncoplot customization. Issue: #310
    o CoOncoplot - align gene names. Issue: #308
    o Added keepGeneOrder argument to plotVaf. Issue: #305
    o Added sampleOrder argument to gisticOncoPlot. Issue: #302

BUG FIX
    o Fix oncoplot removeNonMutated Error #325
    o SomatinInteractions - Do not ignore samples with no nonsyn variants. Issue: #318
    o Do not convert spaces to underscores while parsing annotations. Issue: #314
    o Fix errors in bubbleplot when the data contains no labels. Issue: #313
    o Fix data.table melt value name in plotVaf. Issue: #311
    o Fix colors for NAs in oncoplot legend. Issue: #309

CHANGES IN VERSION 2.0.0
-------------------------
SIGNIFICANT USER-LEVEL IMPROVEMENT
    o Oncoplot, oncostrip and coOncoplot code has been migrated from ComplexHeatmap to base graphics. Default values for some arguments have been changed.
    o Changed default value for mafObj argument in subsetMaf to TRUE. Issue: #235
    o All ggplots are migrated to base graphics for consistancy
    o TCGA mutations per sample used for tcgaCompare are updated to more stable MC3 cohort from deprecated broad firehose.

IMPROVEMENTS:
    o tcgaCompare now accpets comparing against user specifc cohorts. Issue: #229
    o Add missing genes and samples to oncoplot even when they are not altered. Issue: #254
    o Added MTRNR2L8 protein structure to pfam database. Issue: #255
    o Added addtionalFeature argument to oncoplots. Issue: #270
    o Added log scale option for summary and oncoplots. Issue: #273
    o Made protein domain db compatible with R version < 3.5 Issue: #276
    o Added draw `draw_titv`, and `exprsTbl` argument to oncoplot
    o Additional edits with TMB visualization and additionalFeatures Issue: #289

BUG FIX
    o Update code for AnnovarToMaf. PR #288, #234
    o fixed handling of Status in survival. PR #274
    o Fix swapped confidance intervals in mafCompare function Issue: #269
    o update docs, and vectorized code Issue: #266 #267
    o Improve oncoplot annotations for numeric class Issue: #263 and #203
    o In annovarToMaf read the .tsv file considering the header. PR #259
    o Fix legend title order. Issue: #253
    o GISTIC sample size issue fix. Issue: #249
    o Bug fix for oncoplots with CNV data. Issue: #240
    o Better error handling in plotApobecDiff with no SMGs. Issue: #232
    o Bug fix that caused signature extraction to terminate in case of zero mutations. Issue: #228
    o Bug fix due to missing levels contingency tables in clinical enrichment. Issue: #225
    o Add showTumorSampleBarcodes to PlotOncogenicPathways. Issue: #214
    o Cleanup docs for Oncoplot. Issue: #207
    o Implemented `isNumeric` and `groupAnnotationBySize` to improve sorting. Issue: #207
    o Fix ComplexHeatmap update. Issue: #205 #210
    o plotmafSummary addStats bug fix Issue: #204
    o Rainfall plot data.table null fix. Issue: #201
    o Support non human BSgenome. Issue: #197
    o SampleID bug fix. Issue: #153

CHANGES IN VERSION 1.8.0
-------------------------
NEW FUNCTIONS
    o OncogenicPathways - Perform enrichment for known oncogenic pathways from TCGA studies.
    o PlotOncogenicPathways - Plots OncogenicPathways results
    o drugInteractions - Drug gene interactions from DGIB database.

SIGNIFICANT USER-LEVEL IMPROVEMENT
    o trinucleotideMatrix functions now works with BSgenomes instead of time consuming fasta files
    o rainfallPlot now detects Kataegis based on a greedy algorithm

CHANGES IN VERSION 1.6.15
-------------------------
BUG FIX
    o somaticInteractions data.table fix. Issue: #166
    o Fixed error due to multiple header lines from TCGA MAF files. Issue: #162
    o APOBEC enrichment estimation, context fix. Issue: #160
ENHANCEMENTS:
    o Update warning and error messages. Issue: #181, #178
    o Added argument dropLevels to subsetMaf. Issue: #186
    o Added argument sortByAnnotation1 to coOncoplot for sorting by clinical annotation. Issue: #168
    o Added argument colbar_pathway to oncoplot for controlling mutation burden display. Issue: #167, #169
    o Fixed showBarcodes in plotmafSummary. Summary plot now includes annotations (% or raw number) on the barplot. Issue: #165
    o Added argument bgCol and borderCol to oncoplots for better background representation. Issue: #164

CHANGES IN VERSION 1.6.10
-------------------------
BUG FIX
    o APOBEC enrichment estimation, denominator fix. Issue: #160
    o Total sample estimation bug fix. Issue: #159
    o fix plot error caused by NAs in signatureEnrichment. PR: #158

CHANGES IN VERSION 1.6.07
-------------------------
BUG FIX
    o Correct ordering of mutsigCV q-values in oncoplot. Issue: #144
    o Bioconductor windows error fix

CHANGES IN VERSION 1.6.05
-------------------------
BUG FIX
    o Fix breaks due to changes in data.table 1.11.0. Issue: #143
    o SomaticInteraction bug fix due to hclust. Issue: #142

CHANGES IN VERSION 1.6.00
-------------------------
NEW FUNCTIONS
    o clinicalEnrichment - Performs mutational enrichment analysis for a given clinical feature.
    o signatureEnrichment - Performs sample stratification based on signature exposures and enrichment analysis.
    o plotEnrichmentResults - Plots results from clinicalEnrichment and signatureEnrichment analysis
    o lollipopPlot2 - Compare two lollipop plots

SIGNIFICANT USER-LEVEL IMPROVEMENT
    o Forstplot now includes summary table within the plot.
    o Included capture_size argument in tcgaCompare.
    o annovarToMaf can take multiple annovar annotation files and converts them to a single MAF cohort.
